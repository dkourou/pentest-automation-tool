#!/usr/bin/env bash

set -e

#
# make curl with control error code
#
run_curl_internal() {
  local temp_file_code=$1; shift;
  local temp_file_result=$1; shift;

  curl --noproxy '*' --silent --insecure \
    "$@" \
    --write-out "%{http_code}" \
    --output "${temp_file_result}" \
    >"${temp_file_code}" \
    2>/dev/null
}
